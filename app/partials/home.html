<div>
	<h3 class="home-h3"><strong>1. Introduction</strong></h3>
	<p>
		IstSOS JavaScript core library is a lightweight easy-to-use javascript library that exposes commincation with the IstSOS WA REST interface.
	</p>
	<p>
		Developers can use this library to acquire sensor observation data from IstSOS server and publish it on the Web.
	</p>
	<h3 class="home-h3"><strong>2. Installation </strong></h3>

	<p>Install the library using npm:</p>
	<br/>
	<pre class="home-code">npm install istsos-javascript-core --save</pre>
	<br/>
	<p>Or clone the repository:</p>
	<br/>
	<pre class="home-code">git clone https://github.com/istSOS/javascript-core.git</pre>
	<br/>
	<h3 class="home-h3"><strong>3. Example</strong></h3>

	<p style="font-style: italic">Create container object for all servers</p>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">container</span> = <span class="text-danger">new</span> istsos.ServerContainer();
	</pre>
	<br/>
	<p style="font-style: italic">Create istsos.Server object providing appropariate URL and desired name</p>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">server</span> = <span class="text-danger">new</span> istsos.Server({<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">name</span>: 'test',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">url</span>: 'http://istsos.org/istsos/'<br/>
			});
	</pre>
	<br/>
	<p style="font-style: italic">Create istsos.Database object with appropriate database connection parameters</p>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">db</span> = <span class="text-danger">new</span> istsos.Database({<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">dbname</span>: 'istsos',<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">host</span>: 'localhost',<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">user</span>: 'postgres',<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">password</span>: 'postgres',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">port</span>: 5432<br/>
			});
	</pre>
	<br/>
	<p style="font-style: italic">Create istsos.Service object with appropariate name[string], server and database objects</p>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">service</span> = <span class="text-danger">new</span> istsos.Service({<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">name</span>: 'demo',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">server</span>: server,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">opt_db</span>: db<br/>
			});
	</pre>
	<br/>
	<p style="font-style: italic">Create istsos.Offering object with appropriate name, service and activity properties</p>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">offering</span> = <span class="text-danger">new</span> istsos.Offering({<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">offeringName</span>: 'temporary',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">service</span>: service,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">active</span>: <span class="text-primary">true</span><br/>
			});
	</pre>
	<br/>
	<p style="font-style: italic">Create istsos.Procedure object, representing the sensor object to be used for getting the observation data</p>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">procedure</span> = <span class="text-danger">new</span> istsos.Procedure({<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">name</span>: 'BELLINZONA',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">service</span>: service,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">foi_name</span>: 'test',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">epsg</span>: 3857,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">x</span>: 55,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">y</span>: 55,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">z</span>: 55,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">outputs</span>: [],<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">sensorType</span>: 'insitu-fixed-point'<br/>
			});
	</pre>
	<br/>
	<p style="font-style: italic">Create istsos.ObservedProperty objects for the purpose of getting temperature and rainfall observations</p>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">temperature</span> = <span class="text-danger">new</span> istsos.ObservedProperty({<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">observedName</span>: 'air-temperature',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">definitionUrn</span>: 'urn:ogc:def:parameter:x-istsos:1.0:meteo:air:temperature',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">service</span>: service,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">constraintType</span>: 'between',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">value</span>: [0, 300],<br/>
			});
	</pre>
	<br/>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">rainfall</span> = <span class="text-danger">new</span> istsos.ObservedProperty({<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">observedName</span>: 'air-rainfall',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">definitionUrn</span>: 'urn:ogc:def:parameter:x-istsos:1.0:meteo:air:rainfall',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">service</span>: service,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">constraintType</span>: 'between',<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">value</span>: [0, 50],<br/>
			});
	</pre>
	<br/>
	<p style="font-style: italic">Create istsos.Date objects, representing the observation data interval</p>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">beginTime</span> = <span class="text-danger">new</span> istsos.Date({<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">year</span>: 2014,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">month</span>: 5,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">day</span>: 27,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">hours</span>: 0,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">minutes</span>: 0,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">seconds</span>: 0,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">gmt</span>: 2<br/>
			});
	</pre>
	<br/>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">endTime</span> = <span class="text-danger">new</span> istsos.Date({<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">year</span>: 2014,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">month</span>: 5,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">day</span>: 31,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">hours</span>: 0,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">minutes</span>: 0,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">seconds</span>: 0,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">gmt</span>: 2<br/>
			});
	</pre>
	<br/>
	<p style="font-style: italic">Perform get observation request</p>
	<pre class="home-code">
			<span class="text-danger">var</span> <span class="text-primary">observations</span> = service.getObservations({<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-warning">offering</span>: offering,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">procedures</span>: [procedure],<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">observedProperties</span>: [temperature, rainfall]<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">begin</span>: beginTime,<br/>
			   &nbsp;&nbsp;&nbsp;<span class="text-warning">end</span>: endTime<br/>
			});
	</pre>
	<br/>
	<p style="font-style: italic">Two ways of handling the response:</p>
	<pre class="home-code">
			/* PROMISE WAY */<br/>
			<span class="text-primary">observations</span>.then(function(result) {<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-primary">console</span>.log(result)<br/>
			});<br/>
			<br/>
			/* EVENT LISTENER WAY */<br/>
			service.on('GETOBSERVATIONS', function(result) {<br/>
				&nbsp;&nbsp;&nbsp;<span class="text-primary">console</span>.log(result)<br/>
			});
	</pre>
	<br/><br/>
	<!-- <h3 class="home-h3"><strong>4. Links</strong></h3> -->
</div>