var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){if(r.get||r.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),e={next:e},e[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();var t=e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.polyfill=function(e,t,r,i){if(t){for(r=$jscomp.global,e=e.split("."),i=0;i<e.length-1;i++){var o=e[i];o in r||(r[o]={}),r=r[o]}e=e[e.length-1],i=r[e],t=t(i),t!=i&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.EXPOSE_ASYNC_EXECUTOR=!0,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.polyfill("Promise",function(e){function t(){this.batch_=null}if(e&&!$jscomp.FORCE_POLYFILL_PROMISE)return e;t.prototype.asyncExecute=function(e){return null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_()),this.batch_.push(e),this},t.prototype.asyncExecuteBatch_=function(){var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})};var r=$jscomp.global.setTimeout;t.prototype.asyncExecuteFunction=function(e){r(e,0)},t.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var r=e[t];delete e[t];try{r()}catch(e){this.asyncThrow_(e)}}}this.batch_=null},t.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e})};var i=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}};i.prototype.createResolveAndReject_=function(){function e(e){return function(i){r||(r=!0,e.call(t,i))}}var t=this,r=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},i.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof i)this.settleSameAsPromise_(e);else{var t;e:switch(typeof e){case"object":t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},i.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(e){return void this.reject_(e)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},i.prototype.reject_=function(e){this.settle_(2,e)},i.prototype.fulfill_=function(e){this.settle_(1,e)},i.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t|"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,this.executeOnSettledCallbacks_()},i.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=this.onSettledCallbacks_,t=0;t<e.length;++t)e[t].call(),e[t]=null;this.onSettledCallbacks_=null}};var o=new t;return i.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},i.prototype.settleSameAsThenable_=function(e,t){var r=this.createResolveAndReject_();try{e.call(t,r.resolve,r.reject)}catch(e){r.reject(e)}},i.prototype.then=function(e,t){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(e){n(e)}}:t}var o,n,s=new i(function(e,t){o=e,n=t});return this.callWhenSettled_(r(e,o),r(t,n)),s},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.callWhenSettled_=function(e,t){function r(){switch(i.state_){case 1:e(i.result_);break;case 2:t(i.result_);break;default:throw Error("Unexpected state: "+i.state_)}}var i=this;null==this.onSettledCallbacks_?o.asyncExecute(r):this.onSettledCallbacks_.push(function(){o.asyncExecute(r)})},i.resolve=function(e){return e instanceof i?e:new i(function(t,r){t(e)})},i.reject=function(e){return new i(function(t,r){r(e)})},i.race=function(e){return new i(function(t,r){for(var o=$jscomp.makeIterator(e),n=o.next();!n.done;n=o.next())i.resolve(n.value).callWhenSettled_(t,r)})},i.all=function(e){var t=$jscomp.makeIterator(e),r=t.next();return r.done?i.resolve([]):new i(function(e,o){var n=[],s=0;do{n.push(void 0),s++,i.resolve(r.value).callWhenSettled_(function(t){return function(r){n[t]=r,0==--s&&e(n)}}(n.length-1),o),r=t.next()}while(!r.done)})},$jscomp.EXPOSE_ASYNC_EXECUTOR&&(i.$jscomp$new$AsyncExecutor=function(){return new t}),i},"es6-impl","es3"),$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var r=0,i={next:function(){if(r<e.length){var o=r++;return{value:t(o,e[o]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6-impl","es3"),$jscomp.polyfill("Array.prototype.values",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e,t){return t})}},"es6","es3");var istsos=function(e){function t(i){if(r[i])return r[i].exports;var o=r[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=t.HttpAPI={_request:function(e){return new Promise(function(t,r){var i=new XMLHttpRequest;i.open(e.method||"GET",e.url),e.headers&&Object.keys(e.headers).forEach(function(t){i.setRequestHeader(t,e.headers[t])}),i.onload=function(){200<=i.status&&300>i.status?t(JSON.parse(i.response)):r(i.statusText)},i.onerror=function(){return r(i.statusText)},i.send(e.data)})},get:function(e,t){var r={method:"GET"};r.url=e;for(var o in t)r[o]=t[o];return i._request(r)},put:function(e,t){var r={method:"PUT"};r.url=e;for(var o in t)r[o]=t[o];return i._request(r)},post:function(e,t){var r={method:"POST"};r.url=e;for(var o in t)r[o]=t[o];return i._request(r)},delete:function(e,t){var r={method:"DELETE"};r.url=e;for(var o in t)r[o]=t[o];return i._request(r)}}},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.EventEmitter=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=i(5);r.EventEmitter=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.events={}}return o(t,[{key:"on",value:function(e,t){if(!n.EventTypes.hasOwnProperty(e))throw"EVENT TYPE NOT RECOGNIZED!!!";return(this.events[e]=this.events[e]||[]).push(t),this}},{key:"once",value:function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.callback=t,this.on(e,r),this}},{key:"off",value:function(e,t){return this.events[e]&&this._removeHandler(e,t),this}},{key:"fire",value:function(e,t){this.events[e]=this.events[e]||[];for(var r=0;r<this.events[e].length;r++)this.events[e][r].apply(this,[t])}},{key:"_removeHandler",value:function(e,t){this.events[e]=this.events[e]||[];for(var r=0;r<this.events[e].length;r++)if(this.events[e][r]===t){this.events[e].splice(r,1);break}}},{key:"unlistenAll",value:function(){for(e in this.events.length)delete this.events[e]}}]),t}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=["SUM","MAX","MIN","AVG"],o=function(e){var t=[];return e.forEach(function(e){if("virtual"===e.systemType)t.push(e.getVirtualProcedureJSON().system);else{if("insitu-fixed-point"!==e.systemType&&"insitu-mobile-point"!==e.systemType)throw e+": WRONG PROCEDURE SYSTEM TYPE!!!";t.push(e.getProcedureJSON().system)}}),t.toString()},n=function(e){var t=[];return e.forEach(function(e){t.push(e.getObservedPropertiesJSON().definition)}),t.toString},s=function(e,t,r){switch(t){case"lessThan":if(e[2]<r)return e;break;case"lessThanAndEqual":if(e[2]<=r)return e;break;case"equal":if(e[2]===r)return e;break;case"greaterThanAndEqual":if(e[2]>=r)return e;break;case"greaterThan":if(e[2]>r)return e;break;case"between":if(e[2]>=r[0]&&e[2]<=r[1])return e;break;default:throw"WRONG CONSTRAINT TYPE FOR CHECKING QUALITY INDEX!!! SHOULD BE 'lessThan', 'lessThanAndEqual', 'equal', 'greaterThanAndEqual', 'greaterThan' or 'between'"}};t.validateConstraintInput=function(e,t){switch(e){case"between":return t.constructor===Array;case"lessThan":case"greaterThan":return t===parseInt(t,10);case"valueList":return t.constructor===Array;default:throw'Constraint type must be "between", "lessThan", "greaterThan" or "valueList"'}},t.ConstraintInputs={between:"interval",lessThan:"max",greaterThan:"min",valueList:"valueList"},t.prepareForGetObservations=function(e,t){var r={};if("aggregation"===type){var s="";if(t.aggFunc&&t.aggInterval){if(s+="?",!(0<i.indexOf(t.aggFunc)))throw"AGGREGATE FUNCTION NOT RECOGNIZED! SHOULD BE 'MAX', 'MIN', 'SUM' OR 'AVG'!";s+="aggregatefunction="+t.aggFunc+"&aggregateinterval="+t.aggInterval,t.aggNoData&&t.aggNoDataQI&&(s+="&aggregatenodata="+t.aggNoData.toString()+"&aggregatenodataqi="+t.aggNoDataQI.toString())}r.aggregationURL=s}return r.offering=e.offering.getOfferingJSON().name,r.procedureNames=o(e.procedures),r.observedPropertyUrns=n(e.observedProperties),r.begin=e.beginTime instanceof istsos.Date?e.beginTime.getDateString():e.beginTime,r.end=e.endTime instanceof istsos.Date?e.endTime.getDateString():e.endTime,r},t.transformGetObservationsResponse=function(e,t,r){switch(e){case"simple":e=t.data[0].result.DataArray.values;var i=[];for(t=0;t<e.length;t++)i.push({date:e[t][0],measurement:e[t][1]});return i;case"constraint":e=t.data[0].result.DataArray.values;for(var i=[],o=0;o<e.length;o++)i.push(s(e[o],r.type,r.quiality));return t.data[0].result.DataArray.values=i,t;default:throw"OBSERVATION METHOD TYPE NOT RECOGNIZED!"}}},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0},s=r(0);e=r(1),t.Configuration=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.serviceName=e.serviceName?e.serviceName:"default",r.server=e.server,r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this)}},{key:"getConf",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("CONFIGSECTIONS",t),t;throw t.message},function(e){throw e})}},{key:"getProvider",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/provider",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("PROVIDER",t),t;throw t.message},function(e){throw e})}},{key:"updateProvider",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/provider",i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),i.data=JSON.stringify(t),s.HttpAPI.put(r,i).then(function(t){if(t.success)return e.fireEvent("UPDATE_PROVIDER",t),t;throw t.message},function(e){throw e})}},{key:"getIdentification",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/identification",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("IDENTIFICATION",t),t;throw t.message},function(e){throw e})}},{key:"updateIdentification",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/identification",i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),i.data=JSON.stringify(t),s.HttpAPI.put(r,i).then(function(t){if(t.success)return e.fireEvent("UPDATE_IDENTIFICATION",t),t;throw t.message},function(e){throw e})}},{key:"getMqtt",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/mqtt",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("MQTT",t),t;throw t.message},function(e){throw e})}},{key:"updateMqtt",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/mqtt",i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),i.data=JSON.stringify(t),s.HttpAPI.put(r,i).then(function(t){if(t.success)return e.fireEvent("UPDATE_MQTT",t),t;throw t.message},function(e){throw e})}},{key:"getCrs",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/geo",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("CRS",t),t;throw t.message},function(e){throw e})}},{key:"updateCrs",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/geo",i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),i.data=JSON.stringify(t),s.HttpAPI.put(r,i).then(function(t){if(t.success)return e.fireEvent("UPDATE_CRS",t),t;throw t.message},function(e){throw e})}},{key:"getObservationConf",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/getobservation",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("OBSERVATION_CONF",t),t;throw t.message},function(e){throw e})}},{key:"updateObservationConf",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/getobservation",i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),i.data=JSON.stringify(t),s.HttpAPI.put(r,i).then(function(t){if(t.success)return e.fireEvent("UPDATE_OBSERVATION_CONF",t),t;throw t.message},function(e){throw e})}},{key:"getProxy",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/serviceurl",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("PROXY",t),t;throw t.message},function(e){throw e})}},{key:"updateProxy",value:function(){var e=this,t={url:(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")||""},r=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/configsections/serviceurl",i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),i.data=JSON.stringify(t),s.HttpAPI.put(r,i).then(function(t){if(t.success)return e.fireEvent("UPDATE_PROXY",t),t;throw t.message},function(e){throw e})}},{key:"getEpsgCodes",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.serviceName+"/epsgs",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("EPSG_CODES",t),t;throw t.message},function(e){throw e})}}]),t}(e.EventEmitter)},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ProcedureBase=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0};e=r(1),t.ProcedureBase=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.name=e.name,r.description=e.description||"",r.keywords=e.keywords||"",r.foi_name=e.foi_name,r.epsg=e.epsg,r.coordinates=[e.x,e.y,e.z],r.outputs=e.outputs||[],r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this,event,callback)}},{key:"getOutputsProperty",value:function(){return this.outputs}},{key:"getProcedureBaseJSON",value:function(){var e={system_id:this.name,system:this.name,description:this.description,keywords:this.keywords,location:{type:"Feature",geometry:{type:"Point",coordinates:this.coordinates.toString().split(",")},crs:{type:"name",properties:{name:this.epsg.toString()}},properties:{name:this.foi_name}},outputs:[{name:"Time",definition:"urn:ogc:def:parameter:x-istsos:1.0:time:iso8601",uom:"iso8601",description:"",constraint:{}}],inputs:[],history:[],contacts:[],documentation:[],capabilities:[]};return this.outputs.forEach(function(t){e.outputs.push(t.getOutputJSON())}),e}},{key:"createContactForm",value:function(e){return{individualName:e.individualName||"",voice:e.voice||"",fax:e.fax||"",email:e.email||"",web:e.web||"",deliveryPoint:e.deliveryPoint||"",city:e.city||"",administrativeArea:e.administrativeArea||"",postalCode:e.postalCode||"",country:e.country||""}}},{key:"getCapabilitiesUom",value:function(){return"µs ms s min h d".split(" ")}},{key:"getCapabilitiesJson",value:function(){return[{name:"Memory Capacity",definition:"urn:x-ogc:def:classifier:x-istsos:1.0:memoryCapacity",uom:"Byte",combo:"Memory Capacity (Byte)"},{name:"Battery Current",definition:"urn:x-ogc:def:phenomenon:x-istsos:1.0:batteryCurrent",uom:"A.h",combo:"Battery Current (A.h)"}]}},{key:"getIdentificationNames",value:function(){return[{name:"Short Name",definition:"urn:x-ogc:def:identifier:x-istsos:1.0:shortName"},{name:"Long Name",definition:"urn:x-ogc:def:identifier:x-istsos:1.0:longName"},{name:"Manufacturer Name",definition:"urn:x-ogc:def:identifier:x-istsos:1.0:manufacturerName"},{name:"Model Number",definition:"urn:x-ogc:def:identifier:x-istsos:1.0:modelNumber"},{name:"Serial Number",definition:"urn:x-ogc:def:identifier:x-istsos:1.0:serialNumber"},{name:"Device ID",definition:"urn:x-ogc:def:identifier:x-istsos:1.0:deviceID"}]}}]),t}(e.EventEmitter)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.EventTypes={LOGIN:"loginReceived",ABOUT:"aboutReceived",STATUS:"statusReceived",CONFIGSECTIONS:"configSectionsReceived",PROVIDER:"providerReceived",UPDATE_PROVIDER:"PUT ProviderReceived",IDENTIFICATION:"identificationReceived",UPDATE_IDENTIFICATION:"PUT identificationReceived",MQTT:"mqttReceived",UPDATE_MQTT:"PUT mqttReceived",CRS:"crsReceived",UPDATE_CRS:"PUT crsReceived",OBSERVATION_CONF:"observationConfigurationReceived",UPDATE_OBSERVATION_CONF:"PUT observationConfigurationReceived",PROXY:"proxyReceived",UPDATE_PROXY:"PUT proxyReceived",SERVICE:"serviceReceived",SERVICES:"servicesListReceived",NEW_SERVICE:"POST serviceReceived",DELETE_SERVICE:"DELETE serviceReceived",DATABASE:"databaseReceived",UPDATE_DATABASE:"PUT databaseReceived",VALIDATE_DB:"POST validateDbReceived",EPSG_CODES:"epsgsReceived",SYSTEM_TYPES:"systemTypesReceived",NEW_OFFERING:"POST offeringReceived",OFFERING_NAMES:"offeringNamesReceived",OFFERING_LIST:"offeringListReceived",DELETE_OFFERING:"DELETE offeringReceived",UPDATE_OFFERING:"PUT offeringReceived",MEMBERLIST:"memberlistReceived",NONMEMBERLIST:"nonmemberlistReceived",OBSERVED_PROPERTIES:"observedPropertiesReceived",OBSERVED_PROPERTY:"observedPropertyReceived",NEW_OBSERVED_PROPERTY:"POST observedPropertyReceived",UPDATE_OBSERVED_PROPERTY:"PUT observedPropertyReceived",DELETE_OBSERVED_PROPERTY:"DELETE observedPropertyReceived",DATAQUALITIES:"dataQualitiesReceived",DATAQUALITY:"dataQualityReceived",NEW_DATAQUALITY:"POST dataQualityReceived",UPDATE_DATAQUALITY:"PUT dataQualityReceived",DELETE_DATAQUALITY:"DELETE dataQualityReceived",UOM:"unitOfMeasureReceived",UOMS:"unitsOfMeasureReceived",NEW_UOM:"POST unitOfMeasureReceived",UPDATE_UOM:"PUT unitOfMeasureReceived",DELETE_UOM:"DELETE unitOfMeasureReceived",GET_CODE:"codeReceived",NEW_CODE:"POST codeReceived",UPDATE_CODE:"PUT codeReceived",DELETE_CODE:"DELETE codeReceived",RATING_CURVE:"ratingCurveReceived",NEW_RATING_CURVE:"POST ratingCurveReceived",DELETE_RATING_CURVE:"DELETE ratingCurveReceived",NEW_PROCEDURE:"POST procedureReceived",UPDATE_PROCEDURE:"PUT procedureReceived",DELETE_PROCEDURE:"DELETE procedureReceived",ADD_TO_OFFERING:"POST addToOfferingReceived",REMOVE_FROM_OFFERING:"DELETE removeFromOfferingReceived",VIRTUAL_PROCEDURES:"virtualProceduresReceived",VIRTUAL_PROCEDURE:"virtualProcedureReceived",NEW_VIRTUAL_PROCEDURE:"POST virtualProcedureReceived",UPDATE_V_PROCEDURE:"PUT virtualProcedureReceived",DELETE_V_PROCEDURE:"DELETE virtualProcedureReceived",PROCEDURES:"proceduresReceived",PROCEDURE:"procedureReceived",GEOJSON:"geojsonReceived",GETOBSERVATIONS:"getobservationsReceived",GETOBSERVATIONS_AGG:"getobservationsAggregationReceived",GETOBSERVATIONS_BY_PROPERTY:"getobservationsDataReceived",GETOBSERVATIONS_BY_QUALITY:"getObservationsByQualityIndexReceived"}},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Offering=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0},s=r(0);e=r(1),t.Offering=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.offeringName=e.offeringName,r.offeringDescription=e.offeringDescription||"",r.active=e.active||!1,r.expirationDate=e.expirationDate&&e.expirationDate.constructor===istsos.Date?e.expirationDate.getDateString():"",r.service=e.service,r.memberProcedures=[],service.addOffering(r),r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this,event,callback)}},{key:"addProcedure",value:function(e){this.memberProcedures.push(e)}},{key:"updateOffering",value:function(e){var t=this,r=this.offeringName;return this.offeringName=e.newName||this.offeringName,this.offeringDescription=e.newDescription||this.offeringDescription,this.active=e.newActive||this.active,this.expirationDate=e.newExpirationDate||this.expirationDate,e=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/offerings/"+r,r={},this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),r.data=JSON.stringify(this.getUomJSON()),s.HttpAPI.put(e,r).then(function(e){if(e.success)return t.fireEvent("UPDATE_OFFERING",e),e;throw e.message},function(e){throw e})}},{key:"deleteOffering",value:function(){for(var e=this,t=0;t<this.service.getOfferingsProperty().length;t++)this.offeringName===this.service.getOfferingsProperty()[t].name&&this.service.getOfferingsProperty().splice(t,1);var t=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/offerings/"+this.getOfferingJSON().name,r={name:this.getOfferingJSON().name,description:this.getOfferingJSON().description},i={};return this.service.server.getLoginConfig()&&(i.headers=this.service.server.getLoginConfig()),i.data=JSON.stringify(r),s.HttpAPI.delete(t,i).then(function(t){if(t.success)return e.fireEvent("DELETE_OFFERING",t),t;throw t.message},function(e){throw e})}},{key:"getMemberProceduresProperty",value:function(){return this.memberProcedures}},{key:"getMemberProcedures",value:function(){var e=this,t=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/offerings/"+this.getOfferingJSON().name+"/procedures/operations/memberslist",r={};return this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("MEMBERLIST",t),t;throw t.message},function(e){throw e})}},{key:"getNonMemberProcedures",value:function(){var e=this,t=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/offerings/"+this.getOfferingJSON().name+"/procedures/operations/nonmemberslist",r={};return this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("NONMEMBERLIST",t),t;throw t.message},function(e){throw e})}},{key:"getOfferingJSON",value:function(){var e={name:this.offeringName,description:this.offeringDescription,expiration:this.expirationDate};return!0===this.active&&(e.active="on"),e}}]),t}(e.EventEmitter)},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DataQuality=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0},s=r(0);e=r(1),t.DataQuality=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.code=e.codeDQ,r.name=e.nameDQ,r.description=e.descrDQ||"",r.service=e.service,service.addDataQuality(r),r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this,event,callback)}},{key:"getDataQualityJSON",value:function(){return{code:this.code.toString(),name:this.name,description:this.description}}},{key:"updateDataQuality",value:function(e){var t=this,r=this.code;return this.code=e.newCodeDQ||this.code,this.name=e.newNameDQ||this.name,this.description=e.newDescrDQ||this.description,e=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/dataqualities/"+r,r={},this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),r.data=JSON.stringify(this.getDataQualityJSON()),s.HttpAPI.put(e,r).then(function(e){if(e.success)return t.fireEvent("UPDATE_DATAQUALITY",e),e;throw e.message},function(e){throw e})}},{key:"deleteDataQuality",value:function(){for(var e=this,t=this.service.getDataQualitiesProperty(),r=0;r<t.length;r++)this.code===t[r].code&&t.splice(r,1);return t=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/dataqualities/"+this.getDataQualityJSON().code,r={},this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),r.data=JSON.stringify(this.getDataQualityJSON()),s.HttpAPI.delete(t,r).then(function(t){if(t.success)return e.fireEvent("DELETE_DATAQUALITY",t),t;throw t.message},function(e){throw e})}}]),t}(e.EventEmitter)},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Database=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0},s=r(0);e=r(1),t.Database=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.dbname=e.dbname,r.host=e.host,r.user=e.user,r.password=e.password,r.port=e.port,r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this)}},{key:"getDb",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default",r=arguments[1],t=r.getUrl()+"wa/istsos/services/"+t+"/configsections/connection",i={};return r.getLoginConfig()&&(i.headers=r.getLoginConfig()),s.HttpAPI.get(t,i).then(function(t){if(t.success)return e.fireEvent("DATABASE",t),t;throw t.message},function(e){throw e})}},{key:"setDb",value:function(e,t,r){var i=this;return this.dbname=r.dbname||this.dbname,this.host=r.host||this.host,this.password=r.password||this.password,this.port=r.port||this.port,t=t?t.getServiceJSON().service:"default",t=e.getUrl()+"wa/istsos/services/"+t+"/configsections/connection",r={},e.getLoginConfig()&&(r.headers=e.getLoginConfig()),r.data=JSON.stringify(this.getDbJSON()),s.HttpAPI.put(t,r).then(function(e){if(e.success)return i.fireEvent("UPDATE_DATABASE",e),e;throw e.message},function(e){throw e})}},{key:"validateDb",value:function(e){var t=this,r=e.getUrl()+"wa/istsos/operations/validatedb",i={};return e.getLoginConfig()&&(i.headers=e.getLoginConfig()),i.data=JSON.stringify(this.getDbJSON()),s.HttpAPI.post(r,i).then(function(e){if(e.success)return t.fireEvent("VALIDATE_DB",e),e;throw e.message},function(e){throw e})}},{key:"getDbJSON",value:function(){return{dbname:this.dbname,host:this.host,user:this.user,password:this.password,port:this.port.toString()}}}]),t}(e.EventEmitter)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();t.Date=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.year=t.year.toString(),this.month=9<t.month?t.month.toString():"0"+t.month.toString(),this.day=9<t.day?t.day.toString():"0"+t.day.toString(),this.hours=9<t.hours?t.hours.toString():"0"+t.hours.toString(),this.minutes=9<t.minutes?t.minutes.toString():"0"+t.minutes.toString(),this.seconds=9<t.seconds?t.seconds.toString():"0"+t.seconds.toString(),this.gmt=9<t.gmt?t.gmt.toString():"0"+t.gmt.toString(),this.description=t.opt_description||"Class for converting date&time to proper istSOS format"}return i(e,[{key:"getDateString",value:function(){return this.year+"-"+this.month+"-"+this.day+"T"+this.hours+":"+this.minutes+":"+this.seconds+"+"+this.gmt+":00"}},{key:"getDescription",value:function(){return this.description}}]),e}()},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ObservedProperty=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0},s=r(0);e=r(1);var c=r(2);t.ObservedProperty=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.observedName=e.observedName,r.definitionUrn=e.definitionUrn,r.observedDescr=e.observedDescr||"",r.constraint=null,!0===(0,c.validateConstraintInput)(e.constraintType,e.value)?(r.constraint={},r.constraint.role="urn:x-ogc:def:classifiers:x-istsos:1.0:qualityIndexCheck:level0",r.constraint[c.ConstraintInputs[e.constraintType]]=e.value.constructor===Array?e.value.toString().split(","):e.value.toString()):console.log("Input constraintType and constraintValue for property <"+r.observedName.toUpperCase()+"> are INCORRECT or INTENTIONALLY NULL!!! "),r.service=e.service,r.proceduresIncluded=[],r.updateProceduresIncluded(),service.addObservedProperty(r),r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this,event,callback)}},{key:"updateProceduresIncluded",value:function(){var e=this.service.getProceduresProperty(),t=this.service.getVirtualProceduresProperty(),e=e.concat(t);if(0!==e.length)for(t=0;t<e.length;t++)for(var r=0;r<e[t].getOutputsProperty().length;r++)e[t].getOutputsProperty()[r].name&&this.getProceduresIncluded().push(e[t])}},{key:"getProceduresIncluded",value:function(){return this.proceduresIncluded}},{key:"getObservedPropertyJSON",value:function(){return{name:this.observedName,definition:this.definitionUrn,description:this.observedDescr,constraint:this.constraint}}},{key:"updateObservedProperty",value:function(e){var t=this,r=this.definitionUrn;return this.observedName=e.newPropertyName||this.observedName,this.definitionUrn=e.newDefinitionUrn||this.definitionUrn,this.observedDescr=e.newPropertyName||this.observedDescr,!0===(0,c.validateConstraintInput)(e.constraintType,e.value)?(this.constraint={},this.constraint.role="urn:x-ogc:def:classifiers:x-istsos:1.0:qualityIndexCheck:level0",this.constraint[c.ConstraintInputs[e.constraintType]]=e.value.constructor===Array?e.value.toString().split(","):e.value.toString()):console.log("Input constraintType and constraintValue for property <"+this.observedName.toUpperCase()+"> are INCORRECT or INTENTIONALLY NULL!!! "),e=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/observedproperties/"+r,r={},this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),r.data=JSON.stringify(this.getObservedPropertyJSON()),s.HttpAPI.put(e,r).then(function(e){if(e.success)return t.fireEvent("UPDATE_OBSERVED_PROPERTY",e),e;throw e.message},function(e){throw e})}},{key:"deleteObservedProperty",value:function(){var e=this,t=this.service.getProceduresProperty(),r=this.service.getVirtualProceduresProperty(),i=this.service.getObservedPropertiesProperty(),o=[];t.concat(r).forEach(function(e){o.concat(e.getOutputsProperty())});for(var t=this.observedName,r=!1,n=0;n<o.length;n++)if(t===o[n].getOutputJSON().name){alert("CONNECTED TO PROCEDURE"),r=!0;break}if(!1===r)for(t=0;t<i.length;t++)this===i[t]&&i.splice(t,1);return i=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/observedproperties/"+this.getObservedPropertyJSON().definition,t={},this.service.server.getLoginConfig()&&(t.headers=this.service.server.getLoginConfig()),t.data=JSON.stringify(this.getObservedPropertyJSON()),s.HttpAPI.delete(i,t).then(function(t){if(t.success)return e.fireEvent("DELETE_OBSERVED_PROPERTY",t),t;throw t.message},function(e){throw e})}}]),t}(e.EventEmitter)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Output=void 0;var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),o=r(2);t.Output=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.observedProperty=t.property,this.uom=t.uom,this.description=t.description||"",this.constraint={},!0===(0,o.validateConstraintInput)(t.opt_constraintType,t.opt_constraintValue)?(this.constraint.role="urn:ogc:def:classifiers:x-istsos:1.0:qualityIndex:check:reasonable",this.constraint[istsos.observedProperty.ConstraintInputs[opt_constraintType]]=opt_constraintValue.constructor===Array?opt_constraintValue.toString().split(","):opt_constraintValue.toString()):console.log("Input constraintType and constraintValue are incorrect or intentionally null/undefined!!! ")}return i(e,[{key:"getOutputJSON",value:function(){return{name:this.observedProperty.getObservedPropertyJSON().name,definition:this.observedProperty.getObservedPropertyJSON().definition,uom:this.uom.getUomJSON().name,description:this.description||"",constraint:this.constraint}}}]),e}()},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Procedure=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0};e=r(4);var s=r(0);t.Procedure=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:e.name,description:e.description,keywords:e.keywords,foi_name:e.foi_name,epsg:e.epsg,x:e.x,y:e.y,z:e.z,outputs:e.outputs}),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.systemType="insitu-fixed-point"===e.systemType||"insitu-mobile-point"===e.systemType?e.systemType:null,r.sensorType=e.sensorType||"",r.service=e.service,r.service.addProcedure(r),r.service.getOfferingsProperty()[0].getMemberProceduresProperty().push(r),r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this,event,callback)}},{key:"getProcedureJSON",value:function(){var e=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getProcedureBaseJSON",this).call(this);return e.classification=[{name:"System Type",definition:"urn:ogc:def:classifier:x-istsos:1.0:systemType",value:"insitu-mobile-point"===this.systemType||"insitu-fixed-point"===this.systemType?this.systemType:null},{name:"Sensor Type",definition:"urn:ogc:def:classifier:x-istsos:1.0:sensorType",value:this.sensorType}],e}},{key:"updateProcedure",value:function(e){var t=this,r=this.name;this.name=e.name||this.name,this.description=e.description||this.description,this.keywords=e.keywords||this.keywords,this.foi_name=e.foi_name||this.foi_name,this.epsg=option.sepsg||this.epsg,this.coordinates=[e.x,e.y,e.z];var i=this.outputs;return(e.outputs||0!==e.outputs.length)&&(i.splice(1,i.length-1),e.outputs.forEach(function(e){i.push(e)})),this.systemType="insitu-fixed-point"===e.systemType||"insitu-mobile-point"===e.systemType?e.systemType:null,this.sensorType=e.sensorType||"",e=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/procedures/"+r,r={},this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),r.data=JSON.stringify(this.getProcedureJSON()),s.HttpAPI.put(e,r).then(function(e){if(e.success)return t.fireEvent("UPDATE_PROCEDURE",e),e;throw e.message},function(e){throw e})}},{key:"deleteProcedure",value:function(){var e=this,t=this.service.getProceduresProperty(),r=this.getProcedureJSON();t.forEach(function(e){e.getProcedureJSON().system===r.system&&t.splice(t.indexOf(e),1)});var i=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/procedures/"+this.name,o={};return this.service.server.getLoginConfig()&&(o.headers=this.service.server.getLoginConfig()),s.HttpAPI.delete(i,o).then(function(t){if(t.success)return e.fireEvent("DELETE_PROCEDURE",t),t;throw t.message},function(e){throw e})}},{key:"addMembershipToOffering",value:function(e){var t=this;e.getMemberProceduresProperty().push(this);var r=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/offerings/"+e.getOfferingJSON().name+"/procedures";e=[{offering:e.getOfferingJSON().name,procedure:this.getProcedureJSON().system}];var i={};return this.service.server.getLoginConfig()&&(i.headers=this.service.server.getLoginConfig()),i.data=JSON.stringify(e),s.HttpAPI.post(r,i).then(function(e){if(e.success)return t.fireEvent("ADD_TO_OFFERING",e),e;throw e.message},function(e){throw e})}},{key:"removeMembershipFromOffering",value:function(e){var t=this,r=e.getMemberProceduresProperty(),i=this.name;r.forEach(function(e){e.name===i&&r.splice(r.indexOf(e),1)});var o=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/offerings/"+e.getOfferingJSON().name+"/procedures/"+this.getProcedureJSON().system;e=[{offering:e.getOfferingJSON().name,procedure:this.getProcedureJSON().system}];var n={};return this.service.server.getLoginConfig()&&(n.headers=this.service.server.getLoginConfig()),n.data=JSON.stringify(e),s.HttpAPI.delete(o,n).then(function(e){if(e.success)return t.fireEvent("REMOVE_FROM_OFFERING",e),e;throw e.message},function(e){throw e})}},{key:"getOutputsProperty",value:function(){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getOutputsProperty",this).call(this)}}]),t}(e.ProcedureBase)},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0},s=r(3),c=r(0);e=r(1),t.Server=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.name=e.name,r.url="/"===e.url.charAt(e.url.length-1)?e.url:e.url+"/",r.defaultDb=e.defaultDb,r.config=e.opt_config||new s.Configuration({serviceName:null,server:r}),r.loginConfig=null,r.services=[],r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this)}},{key:"setLoginConfig",value:function(e,t){this.loginConfig={Authorization:"Basic "+btoa(e+":"+t)}}},{key:"removeLoginConfig",value:function(){this.loginConfig=null}},{key:"getLoginConfig",value:function(){return this.loginConfig}},{key:"getService",value:function(e){var t=this;e=this.url+"wa/istsos/services/"+e;var r={};return this.getLoginConfig()&&(r.headers=this.getLoginConfig()),c.HttpAPI.get(e,r).then(function(e){if(e.success)return t.fireEvent("SERVICE",e),e;throw e.message},function(e){throw e})}},{key:"addService",value:function(e){this.services.push(e)}},{key:"registerService",value:function(e){var t=this,r=this.getUrl()+"wa/istsos/services",i={};return this.getLoginConfig()&&(i.headers=this.getLoginConfig()),i.data=JSON.stringify(e.getServiceJSON()),c.HttpAPI.post(r,i).then(function(e){if(e.success)return t.fireEvent("NEW_SERVICE",e),e;throw e.message},function(e){throw e})}},{key:"deleteService",value:function(e){for(var t=this,r=0;r<this.services.length;r++)this.services[r].getServiceJSON().service===e.getServiceJSON().service&&this.services.splice(r,1);var r=this.url+"wa/istsos/services/"+e.name,i={};return this.getLoginConfig()&&(i.headers=this.getLoginConfig()),i.data=JSON.stringify({name:e.name}),c.HttpAPI.delete(r,i).then(function(e){if(e.success)return t.fireEvent("DELETE_SERVICE",e),e;throw e.message},function(e){throw e})}},{key:"getStatus",value:function(){var e=this,t=this.url+"wa/istsos/operations/status";this.executeRequest(t,"STATUS","GET");var r={};return this.getLoginConfig()&&(r.headers=this.getLoginConfig()),c.HttpAPI.delete(t,r).then(function(t){if(t.success)return e.fireEvent("STATUS",t),t;throw t.message},function(e){throw e})}},{key:"getAboutInfo",value:function(){var e=this,t=this.url+"wa/istsos/operations/about",r={};return this.getLoginConfig()&&(r.headers=this.getLoginConfig()),c.HttpAPI.delete(t,r).then(function(t){if(t.success)return e.fireEvent("ABOUT",t),t;throw t.message},function(e){throw e})}},{key:"getConfig",value:function(){return this.config.getConf()}},{key:"getConfigProperty",value:function(){return this.config}},{key:"getServicesProperty",value:function(){return this.services}},{key:"getServices",value:function(){var e=this,t=this.url+"wa/istsos/services";this.executeRequest(t,"SERVICES","GET");var r={};return this.getLoginConfig()&&(r.headers=this.getLoginConfig()),c.HttpAPI.delete(t,r).then(function(t){if(t.success)return e.fireEvent("SERVICES",t),t;throw t.message},function(e){throw e})}},{key:"getDefaultDb",value:function(){return this.defaultDb.getDb("default",this)}},{key:"getDefaultDbProperty",value:function(){return this.defaultDb}},{key:"getUrl",value:function(){return this.url}}]),t}(e.EventEmitter)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();t.ServerContainer=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.servers=[]}return o(e,[{key:"getServer",value:function(e){if(!e||"string"!=typeof e)throw"Parameter must be a string representing the name of the server!";var t=!0,r=!1,i=void 0;try{for(var o,n=this.servers[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var s=o.value;if(s.name===e)return s}}catch(e){r=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(r)throw i}}}},{key:"getServers",value:function(){return this.servers}},{key:"addServer",value:function(e){if(!e||i(e.constructor)!=istsos.Server)throw"Parameter must be an instance of istsos.Server class!";this.servers.push(e)}},{key:"removeServer",value:function(e){if("string"==typeof e){var t=!0,r=!1,i=void 0;try{for(var o,n=this.servers[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var s=o.value;if(s.name===e){this.servers.splice(this.servers.indexOf(s),1);break}}}catch(e){r=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(r)throw i}}}else{if(e.constructor!=istsos.Server)throw"Parameter must be a string representing the name of the server or an instance of istsos.Server class!";this.servers.splice(this.servers.indexOf(e),1)}}}]),e}()},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Service=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0};e=r(1);var s=r(0);r(3),r(6);var c=r(2);t.Service=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.name=e.name,r.db=e.opt_db||server.getDefaultDbProperty(),r.epsg=e.opt_epsg||null,r.config=e.opt_config||new istsos.Configuration({serviceName:e.name,server:e.server}),r.server=e.server,r.offerings=[],r.procedures=[],r.virtualProcedures=[],r.observedProperties=[],r.uoms=[],r.dataQualities=[],server.addService(r),new istsos.Offering({offeringName:"temporary",offeringDescription:"temporary offering to hold self-registered procedures/sensors waiting for service adimistration acceptance",active:!0,expirationDate:"",service:r}),r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this,event,callback)}},{key:"getServiceJSON",value:function(){var e={service:this.name};return this.epsg&&(e.epsg=this.epsg.toString()),this.db!==this.server.getDefaultDbProperty()&&(e.dbname=this.db.dbname,e.host=this.db.host,e.user=this.db.user,e.password=this.db.password,e.port=this.db.port.toString()),e}},{key:"getOfferingsProperty",value:function(){return this.offerings}},{key:"getProceduresProperty",value:function(){return this.procedures}},{key:"getVirtualProceduresProperty",value:function(){return this.virtualProcedures}},{key:"getObservedPropertiesProperty",value:function(){return this.observedProperties}},{key:"getUomsProperty",value:function(){return this.uoms}},{key:"getDataQualitiesProperty",value:function(){return this.dataQualities}},{key:"addOffering",value:function(e){this.getOfferingsProperty().push(e)}},{key:"registerOffering",value:function(e){var t=this,r=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/offerings",i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),i.data=JSON.stringify(e.getOfferingJSON()),s.HttpAPI.post(r,i).then(function(e){if(e.success)return t.fireEvent("NEW_OFFERING",e),e;throw e.message},function(e){throw e})}},{key:"getOfferingNames",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/offerings/operations/getlist",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("OFFERING_NAMES",t),t;throw t.message},function(e){throw e})}},{key:"getOfferings",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/offerings",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("OFFERING_LIST",t),t;throw t.message},function(e){throw e})}},{key:"addProcedure",value:function(e){this.getProceduresProperty().push(e)}},{key:"registerProcedure",value:function(e){var t=this,r=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/procedures",i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),i.data=JSON.stringify(e.getProcedureJSON()),s.HttpAPI.post(r,i).then(function(e){if(e.success)return t.fireEvent("NEW_PROCEDURE",e),e;throw e.message},function(e){throw e})}},{key:"getProcedure",value:function(e){var t=this;e=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/procedures/"+e.getProcedureJSON().system;var r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(e,r).then(function(e){if(e.success)return t.fireEvent("PROCEDURE",e),e;throw e.message},function(e){throw e})}},{key:"getProcedures",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/procedures/operations/getlist",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("PROCEDURES",t),t;throw t.message},function(e){throw e})}},{key:"addVirtualProcedure",value:function(e){this.getVirtualProceduresProperty().push(e)}},{key:"registerVirtualProcedure",value:function(e){var t=this,r=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/procedures",i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),i.data=JSON.stringify(e.getVirtualProcedureJSON()),s.HttpAPI.post(r,i).then(function(e){if(e.success)return t.fireEvent("NEW_VIRTUAL_PROCEDURE",e),e;throw e.message},function(e){throw e})}},{key:"getVirtualProcedure",value:function(e){var t=this;e=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/virtualprocedures";var r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(e,r).then(function(e){if(e.success)return t.fireEvent("VIRTUAL_PROCEURE",e),e;throw e.message},function(e){throw e})}},{key:"getVirtualProcedures",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/virtualprocedures/operations/getlist",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("VIRTUAL_PROCEDURES",t),t;throw t.message},function(e){throw e})}},{key:"addObservedProperty",value:function(e){this.getObservedPropertiesProperty().push(e)}},{key:"registerObservedProperty",value:function(e){var t=this,r=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/observedproperties";this.executeRequest(r,istsos.events.EventType.NEW_OBSERVED_PROPERTY,"POST",JSON.stringify(e.getObservedPropertyJSON()));var i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),i.data=JSON.stringify(e.getObservedPropertyJSON()),s.HttpAPI.post(r,i).then(function(e){if(e.success)return t.fireEvent("NEW_OBSERVED_PROPERTY",e),e;throw e.message},function(e){throw e})}},{key:"getObservedProperties",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/observedproperties",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("OBSERVED_PROPERTIES",t),t;throw t.message},function(e){throw e})}},{key:"getObservedProperty",value:function(e){var t=this;e=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/observedproperties/"+e.getObservedPropertyJSON().definition;var r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(e,r).then(function(e){if(e.success)return t.fireEvent("OBSERVED_PROPERTY",e),e;throw e.message},function(e){throw e})}},{key:"addUom",value:function(e){this.getUomsProperty().push(e)}},{key:"registerUom",value:function(e){var t=this;e=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/uoms";var r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),r.data=JSON.stringify(property.getUomJSON()),s.HttpAPI.post(e,r).then(function(e){if(e.success)return t.fireEvent("NEW_UOM",e),e;throw e.message},function(e){throw e})}},{key:"getUoms",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/uoms",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("UOMS",t),t;throw t.message},function(e){throw e})}},{key:"getUom",value:function(e){var t=this;e=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/uoms/"+e.getUomJSON().name;var r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(e,r).then(function(e){if(e.success)return t.fireEvent("UOM",e),e;throw e.message},function(e){throw e})}},{key:"addDataQuality",value:function(e){this.getDataQualitiesProperty().push(e)}},{key:"registerDataQuality",value:function(e){var t=this,r=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/dataqualities";return this.executeRequest(r,istsos.events.EventType.NEW_DATAQUALITY,"POST",JSON.stringify(e.getDataQualityJSON())),e={},this.server.getLoginConfig()&&(e.headers=this.server.getLoginConfig()),e.data=JSON.stringify(property.getDataQualityJSON()),s.HttpAPI.post(r,e).then(function(e){if(e.success)return t.fireEvent("NEW_DATAQUALITY",e),e;throw e.message},function(e){throw e})}},{key:"getDataQualities",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/dataqualities",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("DATAQUALITIES",t),t;throw t.message},function(e){throw e})}},{key:"getDataQuality",value:function(e){var t=this;e=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/dataqualities/"+e.getDataQualityJSON().code;var r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(e,r).then(function(e){if(e.success)return t.fireEvent("DATAQUALITY",e),e;throw e.message},function(e){throw e})}},{key:"getSystemTypes",value:function(){var e=this,t=this.server.getUrl()+"wa/istsos/services/"+this.getServiceJSON().service+"/systemtypes",r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("SYSTEM_TYPES",t),t;throw t.message},function(e){throw e})}},{key:"getDatabaseProperty",value:function(){return this.db}},{key:"getDatabase",value:function(){return this.db.getDb(this.getServiceJSON().service,this.server)}},{key:"getObservations",value:function(e){var t=this;e=(0,c.prepareForGetObservations)(e),e=this.server.getUrl()+"wa/istsos/services/"+this.name+"/operations/getobservation/offerings/"+e.offering+"/procedures/"+e.procedureNames+"/observedproperties/"+e.observedPropertyUrns+"/eventtime/"+begin+"/"+end;var r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(e,r).then(function(e){if(e.success)return t.fireEvent("GETOBSERVATIONS",e),e;throw e.message},function(e){throw e})}},{key:"getObservationsWithAggregation",value:function(e,t){var r=this;return e=(0,c.prepareForGetObservations)(e,t),e=this.server.getUrl()+"wa/istsos/services/"+this.name+"/operations/getobservation/offerings/"+e.offering+"/procedures/"+e.procedureNames+"/observedproperties/"+e.observedPropertyUrns+"/eventtime/"+begin+"/"+end+"/"+e.aggregationUrl,t={},this.server.getLoginConfig()&&(t.headers=this.server.getLoginConfig()),s.HttpAPI.get(e,t).then(function(e){if(e.success)return r.fireEvent("GETOBSERVATIONS_AGG",e),e;throw e.message},function(e){throw e})}},{key:"getObservationsSimplified",value:function(e){var t=this;e=(0,c.prepareForGetObservations)(e),e=this.server.getUrl()+"wa/istsos/services/"+this.name+"/operations/getobservation/offerings/"+e.offering+"/procedures/"+e.procedureNames+"/observedproperties/"+e.observedPropertyUrns+"/eventtime/"+begin+"/"+end;var r={};return this.server.getLoginConfig()&&(r.headers=this.server.getLoginConfig()),s.HttpAPI.get(e,r).then(function(e){if(e.success){var r=(0,c.transformGetObservationResponse)("simple",e);return t.fireEvent("GETOBSERVATIONS_BY_PROPERTY",r),e}throw e.message},function(e){throw e})}},{key:"getObservationsByQualityIndexConstraint",value:function(e,t){var r=this;e=(0,c.prepareForGetObservations)(e),e=this.server.getUrl()+"wa/istsos/services/"+this.name+"/operations/getobservation/offerings/"+e.offering+"/procedures/"+e.procedureNames+"/observedproperties/"+e.observedPropertyUrns+"/eventtime/"+begin+"/"+end;var i={};return this.server.getLoginConfig()&&(i.headers=this.server.getLoginConfig()),s.HttpAPI.get(e,i).then(function(e){if(e.success){var i=(0,c.transformGetObservationResponse)("constraint",e,t);return r.fireEvent("GETOBSERVATIONS_BY_QUALITY",i),e}throw e.message},function(e){throw e})}},{key:"getFeatureCollection",value:function(e){var t=this,r=this.server.getUrl()+"wa/istsos/services/"+this.nane+"/procedures/operations/geojson";return e.opt_epsg&&(r+="?epsg="+e.opt_epsg.toString(),e.opt_offering||e.opt_procedure)&&(e.opt_offering&&(r+="&offering="+e.opt_offering.getOfferingJSON().name),e.opt_procedure&&e.opt_procedure instanceof istsos.Procedure?r+="&procedure="+e.opt_procedure.getProcedureJSON().system:e.opt_procedure&&e.opt_procedure instanceof istsos.VirtualProcedure&&(r+="&procedure="+e.opt_procedure.getVirtualProcedureJSON().system)),e={},this.server.getLoginConfig()&&(e.headers=this.server.getLoginConfig()),s.HttpAPI.get(r,e).then(function(e){if(e.success)return t.fireEvent("GEOJSON",e),e;throw e.message},function(e){throw e})}}]),t}(e.EventEmitter)},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UnitOfMeasure=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0},s=r(0);e=r(1),t.UnitOfMeasure=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.name=e.name,r.description=e.description||"",r.proceduresIncluded=[],r.service=e.service,service.addUom(r),r.updateProceduresIncluded(),r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this,event,callback)}},{key:"updateProceduresIncluded",value:function(){var e=this.service.getProceduresProperty(),t=this.service.getVirtualProceduresProperty(),e=e.concat(t),t=this.name;if(0!==e.length)for(var r=0;r<e.length;r++)for(var i=0;i<e[r].getOutputsProperty().length;i++)t===e[r].getOutputsProperty()[i].uom&&this.proceduresIncluded.push(e[r])}},{key:"getUomJSON",value:function(){return{name:this.name,description:this.description}}},{key:"updateUom",value:function(e){var t=this,r=this.name;return this.name=e.newName||this.name,this.description=e.newDescr||this.description,e=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/uoms/"+r,r={},this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),r.data=JSON.stringify(this.getUomJSON()),s.HttpAPI.put(e,r).then(function(e){if(e.success)return t.fireEvent("UPDATE_UOM",e),e;throw e.message},function(e){throw e})}},{key:"deleteUom",value:function(){var e=this,t=this.service.getProceduresProperty(),r=this.service.getVirtualProceduresProperty(),i=this.service.getUomsProperty(),o=[];t.concat(r).forEach(function(e){o.concat(e.getOutputsProperty())});for(var t=this.name,r=!1,n=0;n<o.length;n++)if(t===o[n].getOutputJSON().uom){alert("CONNECTED TO PROCEDURE"),r=!0;break}if(!1===r)for(t=0;t<i.length;t++)this===i[t]&&i.splice(t,1);return i=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/uoms/"+this.getUomJSON().name,t={},this.service.server.getLoginConfig()&&(t.headers=this.service.server.getLoginConfig()),t.data=JSON.stringify(this.getUomJSON()),s.HttpAPI.delete(i,t).then(function(t){if(t.success)return e.fireEvent("DELETE_UOM",t),t;throw t.message},function(e){throw e})}}]),t}(e.EventEmitter)},function(e,t,r){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualProcedure=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);return void 0!==o?"value"in o?o.value:(r=o.get,void 0===r?void 0:r.call(i)):null!==(t=Object.getPrototypeOf(t))?e(t,r,i):void 0};e=r(4);var s=r(0);t.VirtualProcedure=function(e){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r;if(r=(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:e.name,description:e.description,keywords:e.keywords,foi_name:e.foi_name,epsg:e.epsg,x:e.x,y:e.y,z:e.z,outputs:e.outputs}),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r=!r||"object"!=typeof r&&"function"!=typeof r?this:r,r.systemType="virtual"===e.systemType?e.systemType:null,r.sensorType=e.sensorType||"",r.service=e.service,r.code={code:code},r.ratingCurve=ratingCurve||{},service.addVirtualProcedure(r),service.getOfferingsProperty()[0].getMemberProceduresProperty().push(r),r}return i(t,e),o(t,[{key:"fireEvent",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this,e,r)}},{key:"on",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,r)}},{key:"once",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,r)}},{key:"off",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,r)}},{key:"unlistenAll",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlistenAll",this).call(this,event,callback)}},{key:"getVirtualProcedureJSON",value:function(){var e=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getProcedureBaseJSON",this).call(this);return e.classification=[{name:"System Type",definition:"urn:ogc:def:classifier:x-istsos:1.0:systemType",value:"virtual"===this.systemType?this.systemType:null},{name:"Sensor Type",definition:"urn:ogc:def:classifier:x-istsos:1.0:sensorType",value:this.sensorType}],e}},{key:"getCode",value:function(){var e=this,t=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/virtualprocedures/"+this.getVirtualProcedureJSON().system+"/code",r={};return this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("GET_CODE",t),t;throw t.message},function(e){throw e})}},{key:"registerCode",value:function(){var e=this,t=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/virtualprocedures/"+this.getVirtualProcedureJSON().system+"/code";this.executeRequest(t,istsos.events.EventType.NEW_CODE,"POST",JSON.stringify(this.getCodeProperty()));var r={};return this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),r.data=JSON.stringify(this.getCodeProperty()),s.HttpAPI.post(t,r).then(function(t){if(t.success)return e.fireEvent("NEW_CODE",t),t;throw t.message},function(e){throw e})}},{key:"updateCode",value:function(e){var t=this;this.code={code:e},e=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/virtualprocedures/"+this.getVirtualProcedureJSON().system+"/code";var r={};return this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),r.data=JSON.stringify(this.getCodeProperty()),s.HttpAPI.put(e,r).then(function(e){if(e.success)return t.fireEvent("UPDATE_CODE",e),e;throw e.message},function(e){throw e})}},{key:"deleteCode",value:function(){var e=this;this.code="";var t=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/virtualprocedures/"+this.getVirtualProcedureJSON().system+"/code",r={};return this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),s.HttpAPI.delete(t,r).then(function(t){if(t.success)return e.fireEvent("DELETE_CODE",t),t;throw t.message},function(e){throw e})}},{key:"getCodeProperty",value:function(){return this.code}},{key:"getRatingCurve",value:function(){var e=this,t=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/virtualprocedures/"+this.getVirtualProcedureJSON().system+"/ratingcurve",r={};return this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),s.HttpAPI.get(t,r).then(function(t){if(t.success)return e.fireEvent("RATING_CURVE",t),t;throw t.message},function(e){throw e})}},{key:"registerRatingCurve",value:function(){var e=this,t=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/virtualprocedures/"+this.getVirtualProcedureJSON().system+"/ratingcurve",r={};return this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),r.data=JSON.stringify(this.getRatingCurveProperty()),s.HttpAPI.post(t,r).then(function(t){if(t.success)return e.fireEvent("NEW_RATING_CURVE",t),t;throw t.message},function(e){throw e})}},{key:"deleteRatingCurve",value:function(){var e=this;this.ratingCurve={};var t=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/virtualprocedures/"+this.getVirtualProcedureJSON().system+"/ratingcurve",r={};return this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),s.HttpAPI.delete(t,r).then(function(t){if(t.success)return e.fireEvent("DELETE_RATING_CURVE",t),t;throw t.message},function(e){throw e})}},{key:"getRatingCurveProperty",value:function(){return this.ratingCurve}},{key:"updateVirtualProcedure",value:function(e){var t=this,r=this.name;this.name=e.name||this.name,this.description=e.description||this.description,this.keywords=e.keywords||this.keywords,this.foi_name=e.foi_name||this.foi_name,this.epsg=option.sepsg||this.epsg,this.coordinates=[e.x,e.y,e.z];var i=this.outputs;return(e.outputs||0!==e.outputs.length)&&(i.splice(1,i.length-1),e.outputs.forEach(function(e){i.push(e)})),this.systemType="virtual"===e.systemType?e.systemType:null,this.sensorType=e.sensorType||"",e=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/virtualprocedures/"+r,r={},this.service.server.getLoginConfig()&&(r.headers=this.service.server.getLoginConfig()),r.data=JSON.stringify(this.getVirtualProcedureJSON()),s.HttpAPI.put(e,r).then(function(e){if(e.success)return t.fireEvent("UPDATE_V_PROCEDURE",e),e;throw e.message},function(e){throw e})}},{key:"deleteVirtualProcedure",value:function(){var e=this,t=this.service.getVirtualProceduresProperty(),r=this.getVirtualProcedureJSON();t.forEach(function(e){e.getVirtualProcedureJSON().system===r.system&&t.splice(t.indexOf(e),1)});var i=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/virtualprocedures/"+this.name,o={};return this.service.server.getLoginConfig()&&(o.headers=this.service.server.getLoginConfig()),s.HttpAPI.delete(i,o).then(function(t){if(t.success)return e.fireEvent("DELETE_V_PROCEDURE",t),t;throw t.message},function(e){throw e})}},{key:"addMembershipToOffering",value:function(e){var t=this;e.getMemberProceduresProperty().push(this);var r=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/offerings/"+e.getOfferingJSON().name+"/procedures";e=[{offering:e.getOfferingJSON().name,procedure:this.getVirtualProcedureJSON().system}];var i={};return this.service.server.getLoginConfig()&&(i.headers=this.service.server.getLoginConfig()),i.data=JSON.stringify(e),s.HttpAPI.post(r,i).then(function(e){if(e.success)return t.fireEvent("ADD_TO_OFFERING",e),e;throw e.message},function(e){throw e})}},{key:"removeMembershipFromOffering",value:function(e){var t=this,r=e.getMemberProceduresProperty(),i=this.name;r.forEach(function(e){e.name===i&&r.splice(r.indexOf(e),1)});var o=this.service.server.getUrl()+"wa/istsos/services/"+this.service.getServiceJSON().service+"/offerings/"+e.getOfferingJSON().name+"/procedures/"+this.getVirtualProcedureJSON().system;e=[{offering:e.getOfferingJSON().name,procedure:this.getVirtualProcedureJSON().system}];var n={};return this.service.server.getLoginConfig()&&(n.headers=this.service.server.getLoginConfig()),n.data=JSON.stringify(e),s.HttpAPI.delete(o,n).then(function(e){if(e.success)return t.fireEvent("REMOVE_FROM_OFFERING",e),e;throw e.message},function(e){throw e})}},{key:"getOutputsProperty",value:function(){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getOutputsProperty",this).call(this)}}]),t}(e.ProcedureBase)},function(e,t,r){t=r(14);var i=r(9),o=r(8),n=r(3),s=r(13),c=r(0),a=r(5),u=r(1),f=r(7),v=r(16),p=r(15),l=r(10),h=r(11),g=r(4),y=r(12),d=r(17),O=r(6);r=r(2),e.exports={ServerContainer:t.ServerContainer,Date:i.Date,Database:o.Database,Server:s.Server,EventEmitter:u.EventEmitter,EventTypes:a.EventTypes,Configuration:n.Configuration,HttpAPI:c.HttpAPI,DataQuality:f.DataQuality,UnitOfMeasure:v.UnitOfMeasure,IstsosHelper:{validateConstraintInput:r.validateConstraintInput,ConstraintInputs:r.ConstraintInputs,prepareForGetObservations:r.prepareForGetObservations,transformGetObservationsResponse:r.transformGetObservationsResponse},Service:p.Service,ObservedProperty:l.ObservedProperty,Output:h.Output,ProcedureBase:g.ProcedureBase,Procedure:y.Procedure,VirtualProcedure:d.VirtualProcedure,Offering:O.Offering}}]);